# Инструкция по развертыванию на BEGET.COM

## Подготовка к развертыванию

### 1. Настройка переменных окружения

Создайте файл `.env` в корне проекта со следующими настройками:

```env
# Безопасность
SECRET_KEY=ваш_очень_сложный_секретный_ключ_минимум_32_символа

# База данных (SQLite для Beget)
DATABASE_URL=sqlite:///jobportal.db

# Настройки почты (используйте SMTP Beget или Gmail)
MAIL_SERVER=smtp.beget.com
MAIL_PORT=587
MAIL_USE_TLS=true
MAIL_USERNAME=ваш_email@ваш_домен.com
MAIL_PASSWORD=ваш_пароль_от_почты

# Настройки приложения
FLASK_ENV=production
UPLOAD_FOLDER=uploads
SITE_URL=https://ваш_домен.com

# Настройки безопасности для продакшена
SESSION_COOKIE_SECURE=true
```

### 2. Подготовка файлов для загрузки

Убедитесь, что у вас есть следующие файлы:
- `passenger_wsgi.py` - WSGI файл для Beget
- `.htaccess` - настройки Apache
- `requirements.txt` - зависимости Python
- Все файлы вашего приложения

### 3. Загрузка на хостинг

1. **Войдите в панель управления Beget**
2. **Откройте File Manager** или используйте FTP
3. **Загрузите все файлы** в корневую папку вашего домена
4. **Убедитесь, что файл `.env` загружен** (он скрытый)

### 4. Настройка Python на Beget

1. **В панели Beget** перейдите в раздел "Python"
2. **Создайте Python приложение**:
   - Версия Python: 3.9 или выше
   - Путь к файлу: `passenger_wsgi.py`
   - Домены: ваш домен

### 5. Установка зависимостей

1. **Подключитесь к SSH** (если доступно) или используйте терминал в панели
2. **Перейдите в папку проекта**:
   ```bash
   cd /path/to/your/project
   ```
3. **Создайте виртуальное окружение**:
   ```bash
   python3 -m venv venv
   source venv/bin/activate
   ```
4. **Установите зависимости**:
   ```bash
   pip install -r requirements.txt
   ```

### 6. Инициализация базы данных

1. **Активируйте виртуальное окружение**:
   ```bash
   source venv/bin/activate
   ```
2. **Инициализируйте базу данных**:
   ```bash
   python
   >>> from __init__ import create_app
   >>> from models import db
   >>> app = create_app()
   >>> with app.app_context():
   ...     db.create_all()
   >>> exit()
   ```

### 7. Настройка прав доступа

Убедитесь, что папки имеют правильные права доступа:
```bash
chmod 755 uploads/
chmod 644 *.py
chmod 644 .env
```

### 8. Проверка работы

1. **Откройте ваш сайт** в браузере
2. **Проверьте логи** в панели Beget если есть ошибки
3. **Убедитесь, что все функции работают**

## Возможные проблемы и решения

### Ошибка "Module not found"
- Убедитесь, что все зависимости установлены
- Проверьте, что виртуальное окружение активировано

### Ошибка "Permission denied"
- Проверьте права доступа к файлам
- Убедитесь, что папка `uploads` доступна для записи

### Ошибка "Database locked"
- SQLite может быть заблокирован при множественных запросах
- Рассмотрите переход на MySQL/PostgreSQL для продакшена

### Проблемы с почтой
- Проверьте настройки SMTP в `.env`
- Убедитесь, что пароль приложения правильный (для Gmail)

## Рекомендации для продакшена

1. **Используйте MySQL или PostgreSQL** вместо SQLite для лучшей производительности
2. **Настройте SSL сертификат** для HTTPS
3. **Настройте резервное копирование** базы данных
4. **Мониторьте логи** приложения
5. **Настройте CDN** для статических файлов

## Поддержка

Если возникнут проблемы:
1. Проверьте логи в панели Beget
2. Обратитесь в техподдержку Beget
3. Проверьте документацию Flask 